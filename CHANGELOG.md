# Лог на промените

## Версия 0.6.0 - Разширен контрол и вграждане на метаданни

*   **Услуга за прекратяване**: Добавена е нова услуга `yt_dlp_downloader.cancel` за незабавно спиране на текущото сваляне.
*   **Вграждане на метаданни в MP3**: Добавени са опции в конфигурацията (`embed_metadata`, `embed_thumbnail`, `parse_metadata_from_title`) за автоматично вграждане на изпълнител, заглавие, албум и обложка директно в MP3 файловете.
*   **Подобрен контрол на плейлисти**: Добавен е параметър `playlist_items` към услугата `download`, който позволява избор за сваляне на целия плейлист (`all`) или само на първото видео (`first`).
*   **По-детайлен сензор**: Сензорът вече предоставя атрибути за името на текущия файл (`current_title`) и статуса на плейлиста (`playlist_status`, напр. "5/21").
*   **Изцяло нова Lovelace карта**: `README.md` е актуализиран с нова, много по-функционална карта, която включва бутон за спиране и опции за сваляне на плейлисти.
*   **Основна преработка на `downloader.py`**: Логиката е значително разширена, за да поддържа новите функции за контрол и вграждане на метаданни.

## Версия 0.5.0 - Корекции на сензора и Lovelace картата

*   **Корекция на сензора (`sensor.py`)**: Основното състояние (`state`) на сензора вече е **числов процент** (`progress`), за да се реши грешката `Entity is non-numeric` в Lovelace. Името на сензора е променено на `sensor.yt_dlp_downloader_progress`.
*   **Текстовият статус е преместен в атрибут**: Статусът (`Downloading`, `Idle` и т.н.) вече е достъпен като атрибут (`status`) на сензора.
*   **Подобрена Lovelace карта (`README.md`)**: Примерната карта е актуализирана, за да работи с новия числен сензор.

## Версия 0.4.0 - Разширена функционалност (Плейлисти, NFO, SponsorBlock)

*   **Поддръжка на плейлисти**: Интеграцията вече може да сваля цели плейлисти.
*   **Генериране на NFO файлове**: Добавена е опция `write_nfo_files`.
*   **Интеграция със SponsorBlock**: Добавена е опция `sponsorblock_remove`.
*   **Предотвратяване на дубликати**: Добавена е опция `prevent_duplicates`.

## Версия 0.3.0 - Корекции на стабилността (Thread Safety)

*   Коригирани са критични грешки, свързани с безопасността на нишките (`thread safety`).

## Версия 0.2.0 - Сензори, контрол и подобрено логване

*   Добавен е първоначалният сензор за статус и е въведена опцията `log_level`.

## Версия 0.1.0 - Първоначално създаване

*   Създадена е основната структура на проекта и първоначалната функционалност за сваляне.
